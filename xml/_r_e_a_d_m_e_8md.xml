<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="_r_e_a_d_m_e_8md" kind="file" language="Markdown">
    <compoundname>README.md</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">#<sp/>ResearchTrack1-assignment2</highlight></codeline>
<codeline><highlight class="normal">This<sp/>is<sp/>the<sp/>second<sp/>assignment<sp/>for<sp/>the<sp/>Research<sp/>Track<sp/>1<sp/>exam<sp/>for<sp/>the<sp/>Robotics<sp/>Engineering<sp/>Master&apos;s<sp/>degree<sp/>at<sp/>the<sp/>University<sp/>of<sp/>Genoa.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Simulator</highlight></codeline>
<codeline><highlight class="normal">The<sp/>assignment<sp/>takes<sp/>place<sp/>in<sp/>Gazebo,<sp/>a<sp/>3D<sp/>ROS<sp/>simulator.<sp/>The<sp/>Rviz<sp/>tool<sp/>is<sp/>also<sp/>used<sp/>to<sp/>provide<sp/>a<sp/>model<sp/>of<sp/>the<sp/>simulator<sp/>robot,<sp/>including<sp/>sensors,<sp/>to<sp/>help<sp/>the<sp/>user<sp/>debug<sp/>the<sp/>robot<sp/>application.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>run<sp/>the<sp/>environment,<sp/>namely,<sp/>the<sp/>windows<sp/>mentioned<sp/>above<sp/>Gazebo<sp/>and<sp/>Rviz,<sp/>complete<sp/>the<sp/>following<sp/>procedure<sp/>(If<sp/>you<sp/>do<sp/>not<sp/>have<sp/>already<sp/>installed<sp/>ROS<sp/>on<sp/>your<sp/>computer,<sp/>you<sp/>can<sp/>download<sp/>and<sp/>install<sp/>the<sp/>Noetic<sp/>version<sp/>used<sp/>in<sp/>this<sp/>assignment<sp/>at<sp/>https://wiki.ros.org/noetic/Installation).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Steps:</highlight></codeline>
<codeline><highlight class="normal">*<sp/>open<sp/>at<sp/>least<sp/>two<sp/>terminals.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>in<sp/>the<sp/>first<sp/>one,<sp/>move<sp/>into<sp/>your<sp/>ROS<sp/>workspace<sp/>and<sp/>run<sp/>the<sp/>ROS<sp/>master<sp/>with<sp/>the<sp/>command<sp/>`roscore`.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>move<sp/>to<sp/>the<sp/>second<sp/>terminal<sp/>and<sp/>choose<sp/>where<sp/>to<sp/>clone<sp/>the<sp/>repository</highlight></codeline>
<codeline><highlight class="normal">*<sp/>clone<sp/>this<sp/>repository<sp/>with<sp/>the<sp/>command<sp/>`git<sp/>clone<sp/>_url_`.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>move<sp/>into<sp/>the<sp/>directory</highlight></codeline>
<codeline><highlight class="normal">*<sp/>run<sp/>the<sp/>command<sp/>`roslaunch<sp/>assignment_2_2023<sp/>assignment1.launch`<sp/>to<sp/>start<sp/>the<sp/>simulation.</highlight></codeline>
<codeline><highlight class="normal">At<sp/>this<sp/>point<sp/>the<sp/>simulator<sp/>has<sp/>started,<sp/>the<sp/>program<sp/>is<sp/>running<sp/>and<sp/>a<sp/>mobile<sp/>robot<sp/>is<sp/>spawned<sp/>in<sp/>the<sp/>center<sp/>of<sp/>the<sp/>playground.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">N.B.<sp/>If<sp/>the<sp/>scripts<sp/>are<sp/>not<sp/>found,<sp/>go<sp/>to<sp/>the<sp/>`scripts`<sp/>folder<sp/>and<sp/>run<sp/>the<sp/>command<sp/>`chmod<sp/>+x<sp/>*.py`.<sp/>Then<sp/>try<sp/>again<sp/>to<sp/>run<sp/>`roslaunch<sp/>assignment_2_2023<sp/>assignment1.launch`.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">It<sp/>is<sp/>important<sp/>to<sp/>notice<sp/>(this<sp/>topic<sp/>is<sp/>also<sp/>better<sp/>explained<sp/>later)<sp/>that<sp/>the<sp/>launch<sp/>file<sp/>`assignment1.launch`,<sp/>not<sp/>only<sp/>runs<sp/>the<sp/>environment<sp/>but<sp/>also<sp/>all<sp/>the<sp/>nodes<sp/>of<sp/>the<sp/>assignment`.<sp/>By<sp/>knowing<sp/>that,<sp/>to<sp/>run<sp/>just<sp/>a<sp/>single<sp/>node<sp/>the<sp/>command<sp/>`rosrun<sp/>assignment_2_2023<sp/>_NodeName.py_`<sp/>must<sp/>be<sp/>used.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>playground<sp/>is<sp/>represented<sp/>by<sp/>a<sp/>squared<sp/>arena<sp/>in<sp/>which<sp/>the<sp/>robot<sp/>can<sp/>move.<sp/>Besides,<sp/>some<sp/>walls<sp/>around<sp/>and<sp/>inside<sp/>the<sp/>playground<sp/>obstruct<sp/>the<sp/>robot&apos;s<sp/>motion.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Already<sp/>implemented<sp/>nodes</highlight></codeline>
<codeline><highlight class="normal">Some<sp/>nodes<sp/>were<sp/>already<sp/>implemented<sp/>by<sp/>the<sp/>Professor<sp/>of<sp/>the<sp/>course.<sp/>These<sp/>nodes<sp/>aim<sp/>to<sp/>plan<sp/>the<sp/>motion<sp/>of<sp/>the<sp/>robot.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>`wall_follow_service.py`<sp/>is<sp/>used<sp/>to<sp/>let<sp/>the<sp/>robot<sp/>follow<sp/>a<sp/>wall,<sp/>for<sp/>instance,<sp/>to<sp/>circumnavigate<sp/>it.<sp/>This<sp/>node<sp/>also<sp/>processes<sp/>data<sp/>to<sp/>detect<sp/>obstacles<sp/>and<sp/>avoid<sp/>them:<sp/>if<sp/>an<sp/>obstacle<sp/>is<sp/>detected<sp/>on<sp/>the<sp/>front,<sp/>the<sp/>node<sp/>makes<sp/>the<sp/>robot<sp/>rotate<sp/>until<sp/>there<sp/>are<sp/>no<sp/>obstacles<sp/>perceived.<sp/>The<sp/>same<sp/>behaviour<sp/>is<sp/>implemented<sp/>for<sp/>obstacles<sp/>on<sp/>the<sp/>right<sp/>and<sp/>the<sp/>left.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>`go_to_point_service_service.py`<sp/>implements<sp/>a<sp/>finite<sp/>state<sp/>machine<sp/>that<sp/>controls<sp/>whether<sp/>the<sp/>robot<sp/>behaves<sp/>correctly<sp/>and<sp/>lets<sp/>it<sp/>move<sp/>towards<sp/>a<sp/>specified<sp/>point.<sp/>It<sp/>also<sp/>checks<sp/>if<sp/>and<sp/>when<sp/>the<sp/>robot<sp/>successfully<sp/>reaches<sp/>the<sp/>goal.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>`bug_as.py`<sp/>is<sp/>an<sp/>action<sp/>server<sp/>used<sp/>to<sp/>decide<sp/>the<sp/>robot&apos;s<sp/>behaviour<sp/>according<sp/>to<sp/>a<sp/>function<sp/>`change_state`,<sp/>responsible<sp/>for<sp/>switching<sp/>the<sp/>robot<sp/>states.<sp/>This<sp/>function<sp/>lets<sp/>activate<sp/>or<sp/>deactivate<sp/>specific<sp/>behaviour<sp/>such<sp/>as<sp/>`go_to_point`<sp/>or<sp/>`wall_following`.<sp/>Besides,<sp/>it<sp/>imports<sp/>messages<sp/>and<sp/>services,<sp/>also<sp/>from<sp/>the<sp/>other<sp/>nodes,<sp/>to<sp/>facilitate<sp/>communication<sp/>between<sp/>different<sp/>components<sp/>of<sp/>the<sp/>simulation<sp/>system.<sp/>These<sp/>include<sp/>messages<sp/>for<sp/>laser<sp/>scan<sp/>data,<sp/>odometry<sp/>information,<sp/>twist<sp/>commands<sp/>for<sp/>velocity<sp/>control,<sp/>and<sp/>services<sp/>for<sp/>switching<sp/>between<sp/>navigation<sp/>modes.<sp/>Callback<sp/>functions<sp/>are<sp/>implemented<sp/>to<sp/>process<sp/>data,<sp/>updating<sp/>the<sp/>robot&apos;s<sp/>position<sp/>and<sp/>orientation.<sp/>The<sp/>`planning`<sp/>function<sp/>is<sp/>used<sp/>as<sp/>a<sp/>callback<sp/>for<sp/>the<sp/>action<sp/>server,<sp/>implementing<sp/>the<sp/>robot&apos;s<sp/>goal-planning<sp/>behaviour.<sp/>It<sp/>considers<sp/>obstacles<sp/>in<sp/>the<sp/>environment.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Besides,<sp/>a<sp/>launch<sp/>file<sp/>`assignment1.launch`<sp/>to<sp/>run<sp/>the<sp/>whole<sp/>simulation,<sp/>both<sp/>scripts<sp/>and<sp/>environment,<sp/>is<sp/>provided.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>The<sp/>assignment</highlight></codeline>
<codeline><highlight class="normal">The<sp/>assignment<sp/>requires<sp/>handling<sp/>long-running<sp/>tasks:<sp/>until<sp/>now,<sp/>when<sp/>the<sp/>robot<sp/>is<sp/>moving<sp/>the<sp/>user<sp/>cannot<sp/>do<sp/>anything.<sp/></highlight></codeline>
<codeline><highlight class="normal">The<sp/>nodes<sp/>that<sp/>must<sp/>be<sp/>implemented<sp/>are:</highlight></codeline>
<codeline><highlight class="normal">*<sp/>an<sp/>action<sp/>client,<sp/>allowing<sp/>the<sp/>user<sp/>to<sp/>set<sp/>a<sp/>target<sp/>point<sp/>or<sp/>to<sp/>cancel<sp/>it<sp/>(this<sp/>node<sp/>also<sp/>uses<sp/>the<sp/>feedback/status<sp/>of<sp/>the<sp/>action<sp/>server<sp/>to<sp/>know<sp/>when<sp/>the<sp/>target<sp/>has<sp/>been<sp/>reached);<sp/>this<sp/>node<sp/>also<sp/>publishes<sp/>robot<sp/>position<sp/>and<sp/>velocity<sp/>as<sp/>a<sp/>custom<sp/>message.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>a<sp/>service<sp/>node<sp/>that,<sp/>when<sp/>called,<sp/>returns<sp/>the<sp/>coordinates<sp/>of<sp/>the<sp/>last<sp/>target<sp/>sent<sp/>by<sp/>the<sp/>user.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>a<sp/>service<sp/>node<sp/>that<sp/>subscribes<sp/>to<sp/>the<sp/>robot&apos;s<sp/>position<sp/>and<sp/>velocity<sp/>and<sp/>implements<sp/>a<sp/>server<sp/>to<sp/>retrieve<sp/>the<sp/>distance<sp/>of<sp/>the<sp/>robot<sp/>from<sp/>the<sp/>target<sp/>and<sp/>the<sp/>robot&apos;s<sp/>average<sp/>speed.</highlight></codeline>
<codeline><highlight class="normal">To<sp/>conclude,<sp/>a<sp/>launch<sp/>file<sp/>to<sp/>start<sp/>the<sp/>whole<sp/>simulation<sp/>must<sp/>be<sp/>implemented.<sp/>It<sp/>also<sp/>must<sp/>include<sp/>a<sp/>parameter<sp/>to<sp/>select<sp/>the<sp/>size<sp/>of<sp/>the<sp/>averaging<sp/>window<sp/>of<sp/>the<sp/>last<sp/>node.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>set_target_client.py</highlight></codeline>
<codeline><highlight class="normal">`set_target_client.py`<sp/>is<sp/>the<sp/>action<sp/>client<sp/>that<sp/>satisfies<sp/>the<sp/>first<sp/>request.<sp/>It<sp/>consists<sp/>of<sp/>different<sp/>functions.</highlight></codeline>
<codeline><highlight class="normal">Besides,<sp/>this<sp/>node<sp/>is<sp/>run,<sp/>by<sp/>the<sp/>launch<sp/>file,<sp/>in<sp/>a<sp/>separate<sp/>terminal,<sp/>allowing<sp/>the<sp/>user<sp/>to<sp/>directly<sp/>access<sp/>the<sp/>set-target<sp/>interface.<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>set_client_parameters</highlight></codeline>
<codeline><highlight class="normal">This<sp/>function<sp/>implements<sp/>an<sp/>action<sp/>client,<sp/>which<sp/>also<sp/>provides<sp/>a<sp/>user<sp/>interface,<sp/>running<sp/>on<sp/>a<sp/>separate<sp/>terminal,<sp/>to<sp/>let<sp/>the<sp/>user<sp/>choose<sp/>from<sp/>the<sp/>terminal<sp/>either<sp/>to:</highlight></codeline>
<codeline><highlight class="normal">*<sp/>set<sp/>a<sp/>new<sp/>target<sp/>point<sp/>that<sp/>the<sp/>robot<sp/>must<sp/>reach.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>cancel<sp/>the<sp/>goal<sp/>previously<sp/>chosen.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">Firstly,<sp/>the<sp/>action<sp/>client<sp/>is<sp/>activated<sp/>and<sp/>waits<sp/>for<sp/>the<sp/>server.<sp/>Once<sp/>the<sp/>server<sp/>is<sp/>running<sp/>too,<sp/>the<sp/>goal<sp/>position<sp/>is<sp/>extracted<sp/>from<sp/>`assignment_2_2023.msg.PlanningGoal()`;<sp/>The<sp/>type<sp/>of<sp/>the<sp/>goal<sp/>is<sp/>specified<sp/>by<sp/>the<sp/>`Planning.action`<sp/>action<sp/>file,<sp/>which,<sp/>indeed,<sp/>defines<sp/>the<sp/>types<sp/>of<sp/>the<sp/>goal<sp/>that<sp/>the<sp/>action<sp/>client<sp/>sends<sp/>to<sp/>the<sp/>action<sp/>servers<sp/>and<sp/>the<sp/>result<sp/>and<sp/>feedback<sp/>that<sp/>the<sp/>action<sp/>server<sp/>sends<sp/>back<sp/>to<sp/>the<sp/>client.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">If<sp/>the<sp/>user<sp/>chooses<sp/>to<sp/>set<sp/>a<sp/>new<sp/>goal,<sp/>the<sp/>target<sp/>values,<sp/>both<sp/>x<sp/>and<sp/>y<sp/>positions,<sp/>are<sp/>taken<sp/>from<sp/>the<sp/>keyboard<sp/>and<sp/>the<sp/>script<sp/>checks<sp/>whether<sp/>they<sp/>are<sp/>float<sp/>or<sp/>not;<sp/>if<sp/>not<sp/>the<sp/>user<sp/>can<sp/>insert<sp/>them<sp/>again.<sp/>Then<sp/>the<sp/>values<sp/>are<sp/>stored<sp/>in<sp/>such<sp/>`input_x`<sp/>and<sp/>`input_y`<sp/>variables<sp/>and<sp/>the<sp/>ros<sp/>parameters<sp/>`des_pos_x`<sp/>and<sp/>`des_pos_y`<sp/>are<sp/>updated<sp/>too,<sp/>by<sp/>using<sp/>`rospy.set_param(&apos;/des_pos_x&apos;,<sp/>input_x)`<sp/>and<sp/><sp/>`rospy.set_param(&apos;/des_pos_y&apos;,<sp/>input_y)`.<sp/><sp/>In<sp/>conclusion,<sp/>the<sp/>goal<sp/>is<sp/>sent<sp/>to<sp/>the<sp/>server.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">On<sp/>the<sp/>other<sp/>hand,<sp/>if<sp/>the<sp/>user<sp/>chooses<sp/>to<sp/>cancel<sp/>the<sp/>goal,<sp/>some<sp/>singular<sp/>situations<sp/>must<sp/>be<sp/>handled.<sp/>If<sp/>the<sp/>goal<sp/>is<sp/>has<sp/>never<sp/>been<sp/>entered<sp/>or<sp/>it<sp/>has<sp/>already<sp/>been<sp/>reached,<sp/>it<sp/>does<sp/>not<sp/>make<sp/>sense<sp/>to<sp/>cancel<sp/>it.<sp/>To<sp/>avoid<sp/>this<sp/>kind<sp/>of<sp/>scenario,<sp/>the<sp/>global<sp/>bool<sp/>variable<sp/>`reached`<sp/>(provided<sp/>by<sp/>the<sp/>`on_sub_result`<sp/>callback)<sp/>is<sp/>used:<sp/>if<sp/>this<sp/>value<sp/>is<sp/>`True`,<sp/>the<sp/>goal<sp/>is<sp/>not<sp/>cancelled<sp/>and<sp/>the<sp/>user<sp/>is<sp/>told<sp/>the<sp/>goal<sp/>is<sp/>not<sp/>active<sp/>anymore<sp/>and<sp/>therefore<sp/>cannot<sp/>be<sp/>removed.<sp/>In<sp/>all<sp/>the<sp/>other<sp/>scenarios,<sp/>the<sp/>goal<sp/>is<sp/>correctly<sp/>removed<sp/>by<sp/>using<sp/>the<sp/>command<sp/>`client.cancel_goal()`<sp/>and<sp/>suddenly<sp/>the<sp/>robot<sp/>stops.<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>on_sub_result</highlight></codeline>
<codeline><highlight class="normal">This<sp/>function<sp/>is<sp/>the<sp/>callback<sp/>of<sp/>the<sp/>`sub_from_result`<sp/>subscriber,<sp/>which<sp/>subscribes<sp/>to<sp/>the<sp/>`/reaching_goal/result`<sp/>topic,<sp/>to<sp/>get<sp/>the<sp/>result<sp/>of<sp/>the<sp/>task<sp/>associated<sp/>with<sp/>the<sp/>goal.<sp/>The<sp/>callback<sp/>stores<sp/>in<sp/>a<sp/>variable<sp/>called<sp/>`reached`<sp/>whether<sp/>the<sp/>goal<sp/>has<sp/>been<sp/>succesfully<sp/>reached<sp/>or<sp/>not.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>publisher_node</highlight></codeline>
<codeline><highlight class="normal">The<sp/>`publisher_node`<sp/>function<sp/>is<sp/>used<sp/>to<sp/>create<sp/>and<sp/>publish<sp/>a<sp/>custom<sp/>message<sp/>containing<sp/>the<sp/>actual<sp/>position<sp/>(x,y)<sp/>and<sp/>velocity<sp/>(linear,<sp/>angular)<sp/>of<sp/>the<sp/>robot.<sp/>This<sp/>function<sp/>represents<sp/>the<sp/>callback<sp/>of<sp/>a<sp/>subscriber,<sp/>which<sp/>takes<sp/>the<sp/>required<sp/>information<sp/>subscribing<sp/>to<sp/>the<sp/>topic<sp/>`odom`.</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>last_target_service.py</highlight></codeline>
<codeline><highlight class="normal">`last_target_service.py`<sp/>is<sp/>a<sp/>node<sp/>implementing<sp/>a<sp/>service<sp/>that,<sp/>when<sp/>called,<sp/>returns<sp/>the<sp/>values<sp/>of<sp/>the<sp/>last<sp/>target<sp/>sent<sp/>by<sp/>the<sp/>user.<sp/>To<sp/>make<sp/>it<sp/>feasible,<sp/>a<sp/>srv<sp/>file<sp/>`Last_target.srv`<sp/>is<sp/>created<sp/>in<sp/>the<sp/>so-called<sp/>directory;<sp/>it<sp/>contains<sp/>the<sp/>expected<sp/>service<sp/>response<sp/>type.</highlight></codeline>
<codeline><highlight class="normal">The<sp/>last<sp/>target<sp/>values<sp/>are<sp/>extracted<sp/>from<sp/>the<sp/>ros<sp/>parameters<sp/>updated<sp/>from<sp/>the<sp/>`set_target_client,py`<sp/>and<sp/>returned<sp/>as<sp/>response<sp/>from<sp/>the<sp/>service.<sp/>If<sp/>the<sp/>service<sp/>is<sp/>called<sp/>before<sp/>the<sp/>user<sp/>sets<sp/>a<sp/>target,<sp/>the<sp/>response<sp/>gives<sp/>the<sp/>default<sp/>values<sp/>(`/des_pos_x<sp/>=<sp/>0.0`<sp/>and<sp/>`des_pos_y<sp/>=<sp/>1.0`)<sp/>chosen<sp/>in<sp/>the<sp/>launch<sp/>file<sp/>`assignment1.launch`.<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Furthermore,<sp/>this<sp/>service<sp/>is<sp/>run<sp/>by<sp/>the<sp/>launch<sp/>file;<sp/>to<sp/>call<sp/>it<sp/>and<sp/>get<sp/>the<sp/>last<sp/>target<sp/>sent<sp/>by<sp/>the<sp/>user<sp/>run<sp/>the<sp/>command<sp/>`rosservice<sp/>call<sp/>/last_target`<sp/>on<sp/>the<sp/>terminal.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>info_service.py</highlight></codeline>
<codeline><highlight class="normal">`info_service,py`<sp/>is<sp/>a<sp/>node<sp/>implementing<sp/>a<sp/>service<sp/>that,<sp/>when<sp/>called,<sp/>returns<sp/>the<sp/>distance<sp/>from<sp/>the<sp/>goal<sp/>and<sp/>the<sp/>average<sp/>velocity<sp/>of<sp/>the<sp/>robot.<sp/>To<sp/>make<sp/>it<sp/>feasible,<sp/>a<sp/>srv<sp/>file<sp/>`info_service.srv`<sp/>is<sp/>created<sp/>in<sp/>the<sp/>so-called<sp/>directory;<sp/>it<sp/>contains<sp/>the<sp/>expected<sp/>service<sp/>response<sp/>type.<sp/>A<sp/>subscriber<sp/>is<sp/>implemented<sp/>and<sp/>its<sp/>callback<sp/>takes<sp/>the<sp/>target<sp/>position<sp/>from<sp/>the<sp/>ros<sp/>parameters<sp/>and<sp/>the<sp/>actual<sp/>one<sp/>from<sp/>the<sp/>custom<sp/>message<sp/>sent<sp/>by<sp/>the<sp/>`set_target_client.py`.<sp/>The<sp/>distance<sp/>is<sp/>computed<sp/>as<sp/>the<sp/>Euclidean<sp/>distance<sp/>by<sp/>using<sp/>the<sp/>Python<sp/>built-in<sp/>function<sp/>`math.dist(des_coordinates,<sp/>actual<sp/>coordinates)`<sp/>by<sp/>importing<sp/>`math`<sp/>library.<sp/>The<sp/>velocity<sp/>values<sp/>are<sp/>extracted<sp/>by<sp/>the<sp/>custom<sp/>message<sp/>too,<sp/>they<sp/>are<sp/>collected<sp/>in<sp/>a<sp/>list<sp/>of<sp/>dimension<sp/>`window_size`<sp/>with<sp/>a<sp/>default<sp/>value<sp/>of<sp/>10<sp/>(that<sp/>can<sp/>be<sp/>modified<sp/>in<sp/>the<sp/>launch<sp/>file).<sp/>Then<sp/>the<sp/>average<sp/>velocity<sp/>is<sp/>computed<sp/>as<sp/>`average_vel_x<sp/>=<sp/>sum(vel_data)<sp/>/<sp/>min(len(vel_data),<sp/>velocity_window_size)`.<sp/>These<sp/>values<sp/>compose<sp/>the<sp/>response<sp/>of<sp/>the<sp/>service.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">As<sp/>for<sp/>`last_target_service.py`,<sp/>`info_service.py`<sp/>is<sp/>run<sp/>by<sp/>the<sp/>launch<sp/>file<sp/>and<sp/>the<sp/>service<sp/>can<sp/>be<sp/>called<sp/>by<sp/>using<sp/>the<sp/>command<sp/>`rosservice<sp/>call<sp/>/info_service`<sp/>on<sp/>the<sp/>terminal.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>assignment1.launch</highlight></codeline>
<codeline><highlight class="normal">`assignment1.launch`<sp/>is<sp/>the<sp/>launch<sp/>file<sp/>that<sp/>provides<sp/>the<sp/>possibility<sp/>of<sp/>running<sp/>the<sp/>whole<sp/>simulation,<sp/>including<sp/>both<sp/>the<sp/>scripts<sp/>and<sp/>the<sp/>environment,<sp/>by<sp/>using<sp/>just<sp/>one<sp/>command:<sp/>`roslaunch<sp/>assignment_2_2023<sp/>assignment1.launch`.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">In<sp/>the<sp/>launch<sp/>file:</highlight></codeline>
<codeline><highlight class="normal">*<sp/>the<sp/>ros<sp/>parameters<sp/>`/des_pos_x`,<sp/>`/des_pos_y`<sp/>and<sp/>`/window_size`<sp/>are<sp/>defined<sp/>and<sp/>can<sp/>be<sp/>easily<sp/>modified.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Gazebo<sp/>and<sp/>Rviz<sp/>tools<sp/>are<sp/>launched.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>All<sp/>the<sp/>scripts<sp/>previously<sp/>mentioned<sp/>are<sp/>launched<sp/>too.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>The<sp/>`set_target_client.py`<sp/>is<sp/>launched<sp/>in<sp/>a<sp/>different<sp/>terminal,<sp/>to<sp/>allow<sp/>the<sp/>user<sp/>to<sp/>easily<sp/>set<sp/>the<sp/>target,<sp/>by<sp/>adding<sp/>`launch-prefix=&quot;lxterminal<sp/>-e&quot;`<sp/>to<sp/>the<sp/>respective<sp/>node<sp/>tag.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Flowchart</highlight></codeline>
<codeline><highlight class="normal">[![](https://mermaid.ink/img/pako:eNp1VU1z2jAQ_SsaXXqBFENCCJ1pJ0DSU0_t9FC74xHyAprYkkeSIRT4713JdiyTloORV_vx3ltpfaJcZUDndDgcJtIKm8OcGLCpZXqLfzwXIO1NeUyk90jkJlcHvmPakh-LT4kk-DPVeqtZuSMFE7I2ud9j_C4R6XYl1iVCCitYLgxkv-stkFm9qJ-PZDj8TMoofONRIsP3RXQF413ZruoiZtwKJUmDRxjCWZ5DRpjMyIEJa8hG6QCn3QFpYgzoPWhSoU45ET7Y7eyZfYPva4xdkYrlZKvwgV6WvYAkG60KopUhJdOsAAvaBHU-ZmDSUpn0tVseyUHYHclgw6rckj3LKzBBpeVppcB4iJ2xQpjIpCe2VU4UwmpEnR2Z4hZnkoNj9OUSsIhi106yqWSjGOoUAu5YNCqnzj_UIarbE8QsvGEcWsbOtAwsSxd1Rrhnsoqdcp4fSiI0tgllER4OM3h6ysoGBVe-3iqKqzLDntRkXV_7oocRNcTn-Dueu9of9ei1O_B-rvkk8hpsLeCZPJ2WTHq4VzqvoREZT1oo8pPPeD6CweAU_2IX3JzNOsL8K58j5cxarZUlxqoyZOUztVh7pc5SDbp8O9SQ5RpYdkSEIDuMDs2G5Qai-KvzxI0P1rHQUKh977S3jr7eMtTmyXO7rugS9Yr6TrdZwvh27UfC1RUvqzVOjR3o1M2R4FBGMfoYrkXpe4jdxDHQXuKqJ2J3lFDNPeSKC3sMmJXjmCNOi1oy8hMvSAHGsC2ELpO4RVL3qXEhxdFfYMycYuYwIkJVSnfoy8n_6SmZ4jrVYPDed8H8PTu-A_5CDjvA6tdj663JXmekgs6Zu_NShdeGj9sLs1YqxymjBVvn0AYMeqMlc0VfpDoQsWlmYE9RI1xoM29aEGExx5-PA-p0QAvQODsy_Ayd3EZCMbCAhM5x2Qy_hCbygq6ssur7UXI69wdmQGvoK8FQueLNCpmwSn-rv23-EzegJZO_lEIfqyvwr3R-oq90fj-9uZ-NRtHdwyia3k0G9Ejn0WhyczubTGejyX2Ei9llQP_46NGN8x3PHmbT2-loNBk_XP4CFwo6Rw?type=png)](https://mermaid.live/edit#pako:eNp1VU1z2jAQ_SsaXXqBFENCCJ1pJ0DSU0_t9FC74xHyAprYkkeSIRT4713JdiyTloORV_vx3ltpfaJcZUDndDgcJtIKm8OcGLCpZXqLfzwXIO1NeUyk90jkJlcHvmPakh-LT4kk-DPVeqtZuSMFE7I2ud9j_C4R6XYl1iVCCitYLgxkv-stkFm9qJ-PZDj8TMoofONRIsP3RXQF413ZruoiZtwKJUmDRxjCWZ5DRpjMyIEJa8hG6QCn3QFpYgzoPWhSoU45ET7Y7eyZfYPva4xdkYrlZKvwgV6WvYAkG60KopUhJdOsAAvaBHU-ZmDSUpn0tVseyUHYHclgw6rckj3LKzBBpeVppcB4iJ2xQpjIpCe2VU4UwmpEnR2Z4hZnkoNj9OUSsIhi106yqWSjGOoUAu5YNCqnzj_UIarbE8QsvGEcWsbOtAwsSxd1Rrhnsoqdcp4fSiI0tgllER4OM3h6ysoGBVe-3iqKqzLDntRkXV_7oocRNcTn-Dueu9of9ei1O_B-rvkk8hpsLeCZPJ2WTHq4VzqvoREZT1oo8pPPeD6CweAU_2IX3JzNOsL8K58j5cxarZUlxqoyZOUztVh7pc5SDbp8O9SQ5RpYdkSEIDuMDs2G5Qai-KvzxI0P1rHQUKh977S3jr7eMtTmyXO7rugS9Yr6TrdZwvh27UfC1RUvqzVOjR3o1M2R4FBGMfoYrkXpe4jdxDHQXuKqJ2J3lFDNPeSKC3sMmJXjmCNOi1oy8hMvSAHGsC2ELpO4RVL3qXEhxdFfYMycYuYwIkJVSnfoy8n_6SmZ4jrVYPDed8H8PTu-A_5CDjvA6tdj663JXmekgs6Zu_NShdeGj9sLs1YqxymjBVvn0AYMeqMlc0VfpDoQsWlmYE9RI1xoM29aEGExx5-PA-p0QAvQODsy_Ayd3EZCMbCAhM5x2Qy_hCbygq6ssur7UXI69wdmQGvoK8FQueLNCpmwSn-rv23-EzegJZO_lEIfqyvwr3R-oq90fj-9uZ-NRtHdwyia3k0G9Ejn0WhyczubTGejyX2Ei9llQP_46NGN8x3PHmbT2-loNBk_XP4CFwo6Rw)</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Possible<sp/>improvements</highlight></codeline>
<codeline><highlight class="normal">This<sp/>project<sp/>has<sp/>several<sp/>possible<sp/>improvements.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">First<sp/>of<sp/>all,<sp/>as<sp/>it<sp/>is<sp/>possible<sp/>to<sp/>notice,<sp/>the<sp/>robot<sp/>moves<sp/>quite<sp/>slowly;<sp/>its<sp/>speed<sp/>can<sp/>be<sp/>increased<sp/>to<sp/>achieve<sp/>a<sp/>faster<sp/>and<sp/>smoother<sp/>simulation.<sp/>However,<sp/>the<sp/>speed<sp/>increase<sp/>must<sp/>be<sp/>feasible<sp/>also<sp/>in<sp/>the<sp/>real<sp/>world,<sp/>namely,<sp/>it<sp/>is<sp/>required<sp/>to<sp/>not<sp/>exceed<sp/>physical<sp/>boundaries.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>provided<sp/>user<sp/>interface<sp/>can<sp/>be<sp/>modified<sp/>to<sp/>become<sp/>more<sp/>user-friendly.<sp/>It<sp/>can<sp/>be<sp/>redesigned<sp/>to<sp/>be<sp/>more<sp/>attractive,<sp/>for<sp/>instance<sp/>by<sp/>presenting<sp/>a<sp/>more<sp/>detailed<sp/>and<sp/>easy-to-use<sp/>menu<sp/>for<sp/>the<sp/>user.<sp/>Besides,<sp/>it<sp/>is<sp/>possible<sp/>to<sp/>build<sp/>commands<sp/>to<sp/>use<sp/>services<sp/>directly<sp/>from<sp/>the<sp/>same<sp/>terminal<sp/>where<sp/>the<sp/>desired<sp/>position<sp/>is<sp/>entered.<sp/>This<sp/>would<sp/>make<sp/>it<sp/>easier<sp/>for<sp/>the<sp/>user<sp/>to<sp/>interact<sp/>with<sp/>the<sp/>robot<sp/>and<sp/>the<sp/>simulation.<sp/>Until<sp/>now<sp/>just<sp/>one<sp/>terminal<sp/>for<sp/>the<sp/>desired<sp/>position<sp/>is<sp/>opened,<sp/>while<sp/>the<sp/>services<sp/>must<sp/>be<sp/>called<sp/>separately<sp/>on<sp/>another<sp/>terminal.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Furthermore,<sp/>the<sp/>desired<sp/>goal,<sp/>inserted<sp/>by<sp/>the<sp/>user,<sp/>should<sp/>be<sp/>graphically<sp/>added<sp/>to<sp/>the<sp/>playground.<sp/>A<sp/>goal<sp/>marker<sp/>would<sp/>clarify<sp/>where<sp/>the<sp/>goal<sp/>is<sp/>located<sp/>and<sp/>make<sp/>it<sp/>possible<sp/>to<sp/>visually<sp/>check<sp/>how<sp/>the<sp/>simulation<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">In<sp/>order<sp/>to<sp/>make<sp/>the<sp/>simulation<sp/>even<sp/>more<sp/>user-friendly,<sp/>it<sp/>should<sp/>be<sp/>possible<sp/>to<sp/>choose<sp/>the<sp/>goal<sp/>directly<sp/>from<sp/>the<sp/>playground,<sp/>by<sp/>clicking<sp/>on<sp/>it.<sp/>In<sp/>addition,<sp/>non-performable<sp/>goals<sp/>should<sp/>not<sp/>be<sp/>eligible,<sp/>such<sp/>as<sp/>points<sp/>that<sp/>do<sp/>not<sp/>belong<sp/>to<sp/>the<sp/>playground<sp/>or<sp/>points<sp/>belonging<sp/>to<sp/>the<sp/>obstacles.</highlight></codeline>
<codeline><highlight class="normal">Besides,<sp/>the<sp/>possibility<sp/>of<sp/>choosing<sp/>multiple<sp/>goals<sp/>to<sp/>create<sp/>a<sp/>path<sp/>that<sp/>the<sp/>robot<sp/>must<sp/>follow<sp/>can<sp/>be<sp/>implemented<sp/>too.<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">When<sp/>encountering<sp/>obstacles,<sp/>the<sp/>robot<sp/>&quot;autonomously&quot;<sp/>chooses<sp/>the<sp/>direction<sp/>along<sp/>which<sp/>follows<sp/>the<sp/>wall.<sp/>To<sp/>improve<sp/>performance,<sp/>the<sp/>chosen<sp/>direction<sp/>should<sp/>be<sp/>the<sp/>one<sp/>that<sp/>belongs<sp/>to<sp/>the<sp/>shortest<sp/>path<sp/>to<sp/>the<sp/>goal.<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>conclude,<sp/>although<sp/>several<sp/>improvements<sp/>are<sp/>possible,<sp/>the<sp/>project<sp/>fully<sp/>accomplishes<sp/>the<sp/>required<sp/>tasks.<sp/></highlight></codeline>
    </programlisting>
    <location file="README.md"/>
  </compounddef>
</doxygen>
